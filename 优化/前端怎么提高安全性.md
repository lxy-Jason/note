### XSS(跨域脚本攻击)

用户注入恶意js脚本,被浏览器执行导致安全问题

#### 防范措施

1. 输入过滤,前后端都需要进行过滤,因为前端过滤可能会被绕过直接发起请求

   过滤`onerror,onclick`等事件,style,script,iframe标签

2. 符号转义,在输出的地方将构成html元素的符号进行转义,如</>

3. 设置cookie的HttpOnly属性,禁止js读取cookie

4. 重要操作添加验证码,避免脚本冒充用户

5. 使用SCP(内容安全策略)强大的 CSP 可以禁用潜在有害的内联代码执行，并限制从中加载外部资源的域

### CSRT(跨站请求伪造)

攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。

#### 防范措施

1. 同源检测,CSRT大多数来自第三方网站,直接禁止第三方网站对我们的网站发起请求,通过检测请求头中的Origin和Referer字段可以知道请求来源

2. CSRT Token,服务器生成的一个随机字符串,将其植入返回的页面中,隐藏在表单中,当浏览器发起重要请求时要携带这个Token,服务器进行验证

   从第三方网站发起的请求是拿不到这个Token的

3. 同样是隐藏token,将token放在请求头中,第三方网站也是拿不到

4. 给Cookie设置SameSite属性,如果是第三方网站发起的请求,Cookie设置了SameSite=strict,那么浏览器发起的请求就不会携带cookie,这个和上面同源检测是一个道理

### 点击劫持

将目标网站通过`iframe`嵌入到自己网站,然后让iframe透明不可见,用户在不知情的情况下对目标网站进行了操作

#### 防范措施

1. 在http中添加`x-frame-options`属性,此属性控制页面是否可以被嵌套在`iframe`中
2. 判断当前网站是否被iframe嵌套



​	

