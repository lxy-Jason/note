问题一

报错,self变量不存在

这个变量我是从来没写过,通过看控制台确定是npm包里面的代码变量

一开始碰到这个问题我是很懵逼的

因为包里面的代码又不是我写的,这个报错肯定不是我写代码的问题

那就可能是版本不兼容的问题

上网查了一下,确定我用的版本是没有问题的

这个时候可以确定不是版本兼容的问题

复制报错内容去Google搜索

发现了类似的 xxx is not defined

去看了解决方案,发现是客户端的内容,服务端渲染时是不存在的

例如window,document这些在服务端都是没有的,所以报错

这个给我的灵感,我找到词云对应的源码文件

加上了process.broswer判断

加上之后,只有在客户端才会执行后面的代码

成功解决问题

但是之前是通过npm引入的代码,总不可能每次安装还去修改npm包里面的代码吧

所以我直接把用到的代码给单独拿出来了,不再安装对应的依赖,这样就解决了这个问题

